{"ast":null,"code":"import _slicedToArray from\"/Users/Gun/Documents/GitHub/ScienceReact/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useState,useEffect}from\"react\";import{Redirect,Link,useLocation}from\"react-router-dom\";import{AuthContext}from\"./Auth\";import firebaseConfig from\"../config\";import Header from\"./Header\";import firebase from\"firebase/app\";import StyledFirebaseAuth from\"react-firebaseui/StyledFirebaseAuth\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var LogIn=function LogIn(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),check=_useState2[0],setCheck=_useState2[1];var Location=useLocation();var homeCheck=Location.value;useEffect(function(){setCheck(2);console.log(currentUser);console.log(homeCheck);},[]);var handleSubmit=function handleSubmit(e){e.preventDefault();var _e$target$elements=e.target.elements,email=_e$target$elements.email,password=_e$target$elements.password;try{firebaseConfig.auth().signInWithEmailAndPassword(email.value,password.value);}catch(error){alert(error);}};var _useContext=useContext(AuthContext),currentUser=_useContext.currentUser;// can be improve using ternary code? SCN-61\nif(currentUser&&homeCheck){return/*#__PURE__*/_jsx(Redirect,{to:\"/createproject\"});}if(currentUser&&!homeCheck){return/*#__PURE__*/_jsx(Redirect,{to:\"/\"});}// can be improve using ternary code? SCN-61\nvar uiConfig={signInFlow:\"popup\",signInOptions:[firebase.auth.GoogleAuthProvider.PROVIDER_ID// firebase.auth.FacebookAuthProvider.PROVIDER_ID,\n// firebase.auth.TwitterAuthProvider.PROVIDER_ID,\n// firebase.auth.GithubAuthProvider.PROVIDER_ID,\n// firebase.auth.EmailAuthProvider.PROVIDER_ID,\n],callbacks:{signInSuccess:function signInSuccess(){return false;}}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-5\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Log in\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputEmail1\",className:\"form-label\",children:\"Email address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",className:\"form-control\",id:\"exampleInputEmail1\",\"aria-describedby\":\"emailHelp\"}),/*#__PURE__*/_jsx(\"div\",{id:\"emailHelp\",className:\"form-text\",children:\"We'll never share your email with anyone else.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputPassword1\",className:\"form-label\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",className:\"form-control\",id:\"exampleInputPassword1\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Submit\"}),/*#__PURE__*/_jsx(Link,{to:\"signup\",className:\"btn btn-success ms-2\",children:\"Signup\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"container mt-5\",children:/*#__PURE__*/_jsx(StyledFirebaseAuth,{uiConfig:uiConfig,firebaseAuth:firebase.auth()})})]})]});};export default LogIn;","map":{"version":3,"sources":["/Users/Gun/Documents/GitHub/ScienceReact/src/components/Login.js"],"names":["React","useContext","useState","useEffect","Redirect","Link","useLocation","AuthContext","firebaseConfig","Header","firebase","StyledFirebaseAuth","LogIn","check","setCheck","Location","homeCheck","value","console","log","currentUser","handleSubmit","e","preventDefault","target","elements","email","password","auth","signInWithEmailAndPassword","error","alert","uiConfig","signInFlow","signInOptions","GoogleAuthProvider","PROVIDER_ID","callbacks","signInSuccess"],"mappings":"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","sourcesContent":["import React, { useContext, useState, useEffect } from \"react\";\nimport { Redirect, Link, useLocation } from \"react-router-dom\";\nimport { AuthContext } from \"./Auth\";\nimport firebaseConfig from \"../config\";\nimport Header from \"./Header\";\nimport firebase from \"firebase/app\";\nimport StyledFirebaseAuth from \"react-firebaseui/StyledFirebaseAuth\";\n\nconst LogIn = () => {\n  const [check, setCheck] = useState();\n\n  let Location = useLocation();\n  let homeCheck = Location.value;\n\n  useEffect(() => {\n    setCheck(2);\n    console.log(currentUser);\n    console.log(homeCheck);\n  }, []);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    const { email, password } = e.target.elements;\n    try {\n      firebaseConfig\n        .auth()\n        .signInWithEmailAndPassword(email.value, password.value);\n    } catch (error) {\n      alert(error);\n    }\n  };\n\n  const { currentUser } = useContext(AuthContext);\n\n  // can be improve using ternary code? SCN-61\n  if (currentUser && homeCheck) {\n    return <Redirect to=\"/createproject\" />;\n  }\n\n  if (currentUser && !homeCheck) {\n    return <Redirect to=\"/\" />;\n  }\n  // can be improve using ternary code? SCN-61\n\n  const uiConfig = {\n    signInFlow: \"popup\",\n    signInOptions: [\n      firebase.auth.GoogleAuthProvider.PROVIDER_ID,\n      // firebase.auth.FacebookAuthProvider.PROVIDER_ID,\n      // firebase.auth.TwitterAuthProvider.PROVIDER_ID,\n      // firebase.auth.GithubAuthProvider.PROVIDER_ID,\n      // firebase.auth.EmailAuthProvider.PROVIDER_ID,\n    ],\n    callbacks: {\n      signInSuccess: () => false,\n    },\n  };\n\n  return (\n    <>\n      <Header />\n      <div className=\"container mt-5\">\n        <h1>Log in</h1>\n        <form onSubmit={handleSubmit}>\n          <div className=\"mb-3\">\n            <label htmlFor=\"exampleInputEmail1\" className=\"form-label\">\n              Email address\n            </label>\n            <input\n              type=\"email\"\n              name=\"email\"\n              className=\"form-control\"\n              id=\"exampleInputEmail1\"\n              aria-describedby=\"emailHelp\"\n            />\n            <div id=\"emailHelp\" className=\"form-text\">\n              We'll never share your email with anyone else.\n            </div>\n          </div>\n          <div className=\"mb-3\">\n            <label htmlFor=\"exampleInputPassword1\" className=\"form-label\">\n              Password\n            </label>\n            <input\n              type=\"password\"\n              name=\"password\"\n              className=\"form-control\"\n              id=\"exampleInputPassword1\"\n            />\n          </div>\n          <button type=\"submit\" className=\"btn btn-primary\">\n            Submit\n          </button>\n          <Link to=\"signup\" className=\"btn btn-success ms-2\">\n            Signup\n          </Link>\n        </form>\n        <div className=\"container mt-5\">\n          <StyledFirebaseAuth\n            uiConfig={uiConfig}\n            firebaseAuth={firebase.auth()}\n          />\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default LogIn;\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _classCallCheck from\"/Users/Gun/workspace/ScienceReact/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/Gun/workspace/ScienceReact/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/Gun/workspace/ScienceReact/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/Gun/workspace/ScienceReact/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import firebaseConfig from\"../config\";import Header from\"./Header\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var db=firebaseConfig.firestore();var Create=/*#__PURE__*/function(_Component){_inherits(Create,_Component);var _super=_createSuper(Create);function Create(props){var _this;_classCallCheck(this,Create);_this=_super.call(this,props);_this.state={User:[],alert:false,alertData:{}};return _this;}_createClass(Create,[{key:\"showAlert\",value:function showAlert(type,message){var _this2=this;this.setState({alert:true,alertData:{type:type,message:message}});setTimeout(function(){_this2.setState({alert:false});},4000);}},{key:\"resetForm\",value:function resetForm(){this.refs.contactForm.reset();}// componentWillMount() {\n//   let formRef = firebaseConfig\n//     .database()\n//     .ref(\"User\")\n//     .orderByKey()\n//     .limitToLast(6);\n//   formRef.on(\"child_added\", (snapshot) => {\n//     const { name, email, city, phone, message } = snapshot.val();\n//     const data = { name, email, city, phone, message };\n//     this.setState({ User: [data].concat(this.state.User) });\n//   });\n// }\n},{key:\"componentWillMount\",value:function componentWillMount(){var _this3=this;db.collection(\"User\").get().then(function(snapshot){var User=[];snapshot.forEach(function(doc){var data=doc.data();User.push(data);});_this3.setState({User:User});});}},{key:\"sendMessage\",value:function sendMessage(e){var _this4=this;e.preventDefault();var params={name:this.inputName.value,email:this.inputEmail.value,city:this.inputCity.value,phone:this.inputPhone.value,message:this.textAreaMessage.value};if(params.name&&params.email&&params.phone&&params.phone&&params.message){//  {\n//   firebaseConfig\n//     .database()\n//     .ref(\"User\")\n//     .push(params)\n//     .then(() => {\n//       this.showAlert(\"success\", \"Your message was sent successfull\");\n//     })\n//     .catch(() => {\n//       this.showAlert(\"danger\", \"Your message could not be sent\");\n//     });\n//   this.resetForm();\n// }\ndb.collection(\"User\").add(params).then(function(){_this4.showAlert(\"success\",\"Your message was sent successfull\");}).catch(function(){_this4.showAlert(\"danger\",\"Your message could not be sent\");});this.resetForm();}else{this.showAlert(\"warning\",\"Please fill the form\");}}},{key:\"render\",value:function render(){var _this5=this;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{}),this.state.alert&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-\".concat(this.state.alertData.type),role:\"alert\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:this.state.alertData.message})}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",style:{padding:\"40px 15px 0px 15px\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-4\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Project\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.sendMessage.bind(this),ref:\"contactForm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"name\",placeholder:\"Name\",ref:function ref(name){return _this5.inputName=name;}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputEmail1\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",id:\"email\",placeholder:\"Email\",ref:function ref(email){return _this5.inputEmail=email;}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"city\",children:\"City\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-control\",id:\"city\",ref:function ref(city){return _this5.inputCity=city;},children:[/*#__PURE__*/_jsx(\"option\",{value:\"Bangkok\",children:\"Bangkok\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Nonthaburi\",children:\"Nonthaburi\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Pathumthani\",children:\"Pathumthani\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"phone\",children:\"Phone\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control\",id:\"phone\",placeholder:\"+66 0\",ref:function ref(phone){return _this5.inputPhone=phone;}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"message\",children:\"Message\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control\",id:\"message\",rows:\"3\",style:{margin:\"0px 0px 10px 0px\"},ref:function ref(message){return _this5.textAreaMessage=message;}})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",style:{margin:\"0px 0px 10px 0px\"},children:\"Send\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:this.state.User.map(function(User){return/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-6\",style:{margin:\"0px 0px 30px 0px\"},children:/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"card-title\",children:User.name}),/*#__PURE__*/_jsx(\"h6\",{className:\"card-subtitle mb-2 text-muted\",children:User.city}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text\",children:User.message}),/*#__PURE__*/_jsx(\"a\",{href:\"tel:\".concat(User.phone),className:\"card-link\",children:User.phone}),/*#__PURE__*/_jsx(\"a\",{href:\"mailto:\".concat(User.email),className:\"card-link\",children:User.email})]})})},User.phone);})})})]})})]});}}]);return Create;}(Component);export default Create;","map":{"version":3,"sources":["/Users/Gun/workspace/ScienceReact/src/components/createproject.js"],"names":["React","Component","firebaseConfig","Header","db","firestore","Create","props","state","User","alert","alertData","type","message","setState","setTimeout","refs","contactForm","reset","collection","get","then","snapshot","forEach","doc","data","push","e","preventDefault","params","name","inputName","value","email","inputEmail","city","inputCity","phone","inputPhone","textAreaMessage","add","showAlert","catch","resetForm","padding","sendMessage","bind","margin","map"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport firebaseConfig from \"../config\";\nimport Header from \"./Header\";\n\nvar db = firebaseConfig.firestore();\n\nclass Create extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      User: [],\n      alert: false,\n      alertData: {},\n    };\n  }\n\n  showAlert(type, message) {\n    this.setState({\n      alert: true,\n      alertData: { type, message },\n    });\n    setTimeout(() => {\n      this.setState({ alert: false });\n    }, 4000);\n  }\n\n  resetForm() {\n    this.refs.contactForm.reset();\n  }\n\n  // componentWillMount() {\n  //   let formRef = firebaseConfig\n  //     .database()\n  //     .ref(\"User\")\n  //     .orderByKey()\n  //     .limitToLast(6);\n  //   formRef.on(\"child_added\", (snapshot) => {\n  //     const { name, email, city, phone, message } = snapshot.val();\n  //     const data = { name, email, city, phone, message };\n  //     this.setState({ User: [data].concat(this.state.User) });\n  //   });\n  // }\n\n  componentWillMount() {\n    db.collection(\"User\")\n      .get()\n      .then((snapshot) => {\n        const User = [];\n        snapshot.forEach((doc) => {\n          const data = doc.data();\n          User.push(data);\n        });\n        this.setState({ User: User });\n      });\n  }\n\n  sendMessage(e) {\n    e.preventDefault();\n    const params = {\n      name: this.inputName.value,\n      email: this.inputEmail.value,\n      city: this.inputCity.value,\n      phone: this.inputPhone.value,\n      message: this.textAreaMessage.value,\n    };\n    if (\n      params.name &&\n      params.email &&\n      params.phone &&\n      params.phone &&\n      params.message\n    ) {\n      //  {\n      //   firebaseConfig\n      //     .database()\n      //     .ref(\"User\")\n      //     .push(params)\n      //     .then(() => {\n      //       this.showAlert(\"success\", \"Your message was sent successfull\");\n      //     })\n      //     .catch(() => {\n      //       this.showAlert(\"danger\", \"Your message could not be sent\");\n      //     });\n      //   this.resetForm();\n      // }\n      db.collection(\"User\")\n        .add(params)\n        .then(() => {\n          this.showAlert(\"success\", \"Your message was sent successfull\");\n        })\n        .catch(() => {\n          this.showAlert(\"danger\", \"Your message could not be sent\");\n        });\n      this.resetForm();\n    } else {\n      this.showAlert(\"warning\", \"Please fill the form\");\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <Header />\n        {this.state.alert && (\n          <div\n            className={`alert alert-${this.state.alertData.type}`}\n            role=\"alert\"\n          >\n            <div className=\"container\">{this.state.alertData.message}</div>\n          </div>\n        )}\n        <div className=\"container\" style={{ padding: `40px 15px 0px 15px` }}>\n          <div className=\"row\">\n            <div className=\"col-sm-4\">\n              <h2>Project</h2>\n              <form onSubmit={this.sendMessage.bind(this)} ref=\"contactForm\">\n                <div className=\"form-group\">\n                  <label htmlFor=\"name\">Name</label>\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    id=\"name\"\n                    placeholder=\"Name\"\n                    ref={(name) => (this.inputName = name)}\n                  />\n                </div>\n                <div className=\"form-group\">\n                  <label htmlFor=\"exampleInputEmail1\">Email</label>\n                  <input\n                    type=\"email\"\n                    className=\"form-control\"\n                    id=\"email\"\n                    placeholder=\"Email\"\n                    ref={(email) => (this.inputEmail = email)}\n                  />\n                </div>\n                <div className=\"form-group\">\n                  <label htmlFor=\"city\">City</label>\n                  <select\n                    className=\"form-control\"\n                    id=\"city\"\n                    ref={(city) => (this.inputCity = city)}\n                  >\n                    <option value=\"Bangkok\">Bangkok</option>\n                    <option value=\"Nonthaburi\">Nonthaburi</option>\n                    <option value=\"Pathumthani\">Pathumthani</option>\n                  </select>\n                </div>\n                <div className=\"form-group\">\n                  <label htmlFor=\"phone\">Phone</label>\n                  <input\n                    type=\"number\"\n                    className=\"form-control\"\n                    id=\"phone\"\n                    placeholder=\"+66 0\"\n                    ref={(phone) => (this.inputPhone = phone)}\n                  />\n                </div>\n                <div className=\"form-group\">\n                  <label htmlFor=\"message\">Message</label>\n                  <textarea\n                    className=\"form-control\"\n                    id=\"message\"\n                    rows=\"3\"\n                    style={{ margin: `0px 0px 10px 0px` }}\n                    ref={(message) => (this.textAreaMessage = message)}\n                  ></textarea>\n                </div>\n                <button\n                  type=\"submit\"\n                  className=\"btn btn-primary\"\n                  style={{ margin: `0px 0px 10px 0px` }}\n                >\n                  Send\n                </button>\n              </form>\n            </div>\n            <div className=\"col-sm-8\">\n              <div className=\"row\">\n                {this.state.User.map((User) => (\n                  <div\n                    className=\"col-sm-6\"\n                    key={User.phone}\n                    style={{ margin: `0px 0px 30px 0px` }}\n                  >\n                    <div className=\"card\">\n                      <div className=\"card-body\">\n                        <h4 className=\"card-title\">{User.name}</h4>\n                        <h6 className=\"card-subtitle mb-2 text-muted\">\n                          {User.city}\n                        </h6>\n                        <p className=\"card-text\">{User.message}</p>\n                        <a href={`tel:${User.phone}`} className=\"card-link\">\n                          {User.phone}\n                        </a>\n                        <a href={`mailto:${User.email}`} className=\"card-link\">\n                          {User.email}\n                        </a>\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Create;\n"]},"metadata":{},"sourceType":"module"}